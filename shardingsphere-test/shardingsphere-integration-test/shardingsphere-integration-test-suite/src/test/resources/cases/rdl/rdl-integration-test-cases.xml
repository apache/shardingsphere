<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<integration-test-cases>
    <!--FIXME! IP CANNOT CONNECT-->
    <test-case sql="SHOW RESOURCES" db-types="PostgreSQL">
        <assertion expected-data-file="alter_resource.xml">
            <initial-sql sql="ALTER RESOURCE rdl_test_0 (URL=&quot;jdbc:mysql://mysql.empty_rules.host:3306/rdl_test_0?serverTimezone=UTC&amp;useSSL=false&amp;characterEncoding=utf-8&quot;, USER=root, PASSWORD=root,
            PROPERTIES(&quot;maxPoolSize&quot;=10,&quot;maxPoolSize&quot;=10,&quot;connectionTimeoutMilliseconds&quot;=3000,&quot;idleTimeoutMilliseconds&quot;=6000,&quot;maxLifetimeMilliseconds&quot;=180000));"/>
            <destroy-sql sql="ALTER RESOURCE rdl_test_0 (URL=&quot;jdbc:mysql://mysql.empty_rules.host:3306/rdl_test_0?serverTimezone=UTC&amp;useSSL=false&amp;characterEncoding=utf-8&quot;, USER=root, PASSWORD=root,
            PROPERTIES(&quot;maxPoolSize&quot;=2,&quot;maxPoolSize&quot;=2,&quot;connectionTimeoutMilliseconds&quot;=30000,&quot;idleTimeoutMilliseconds&quot;=60000,&quot;maxLifetimeMilliseconds&quot;=1800000));" />
        </assertion>
    </test-case>
    
    <test-case sql="SHOW RESOURCES">
        <assertion expected-data-file="drop_resource.xml">
            <initial-sql sql="DROP RESOURCE rdl_test_0;"/>
            <destroy-sql sql="ADD RESOURCE rdl_test_0 (URL=&quot;jdbc:mysql://mysql.empty_rules.host:3306/rdl_test_0?serverTimezone=UTC&amp;useSSL=false&amp;characterEncoding=utf-8&quot;, USER=root, PASSWORD=root,
                PROPERTIES(&quot;maxPoolSize&quot;=2,&quot;maxPoolSize&quot;=2,&quot;connectionTimeoutMilliseconds&quot;=30000,&quot;idleTimeoutMilliseconds&quot;=60000,&quot;maxLifetimeMilliseconds&quot;=1800000));" />
        </assertion>
    </test-case>
    
    <!--FIXME! IP CANNOT CONNECT-->
    <test-case sql="SHOW RESOURCES" db-types="PostgreSQL">
        <assertion expected-data-file="add_resource.xml">
            <initial-sql sql="ADD RESOURCE
                rdl_test_1 (HOST=&quot;mysql.empty_rules.host&quot;, PORT=3306, DB=rdl_test_1, USER=root, PASSWORD=root,
                PROPERTIES(&quot;maxPoolSize&quot;=2,&quot;maxPoolSize&quot;=2,&quot;connectionTimeoutMilliseconds&quot;=30000,&quot;idleTimeoutMilliseconds&quot;=60000,&quot;maxLifetimeMilliseconds&quot;=1800000)),
                rdl_test_2 (URL=&quot;jdbc:mysql://mysql.empty_rules.host:3306/rdl_test_2?serverTimezone=UTC&amp;useSSL=false&amp;characterEncoding=utf-8&quot;, USER=root, PASSWORD=root,
                PROPERTIES(&quot;maxPoolSize&quot;=2,&quot;maxPoolSize&quot;=2,&quot;connectionTimeoutMilliseconds&quot;=30000,&quot;idleTimeoutMilliseconds&quot;=60000,&quot;maxLifetimeMilliseconds&quot;=1800000));"/>
            <destroy-sql sql="DROP RESOURCE rdl_test_1, rdl_test_2;" />
        </assertion>
    </test-case>
    
    <test-case sql="SHOW SHARDING TABLE RULES">
        <assertion expected-data-file="create_sharding_rules.xml">
            <initial-sql sql="CREATE SHARDING TABLE RULE t_user (
                RESOURCES(&quot;encrypt_write_ds_${0..9}&quot;),
                SHARDING_COLUMN=user_id, TYPE(NAME=MOD, PROPERTIES(&quot;sharding-count&quot;=40)))))"/>
            <destroy-sql sql="DROP SHARDING TABLE RULE t_user" />
        </assertion>
    </test-case>
    
    <test-case sql="SHOW SHARDING TABLE RULES">
        <assertion expected-data-file="drop_sharding_rules.xml">
            <initial-sql sql="DROP SHARDING TABLE RULE t_user_item"/>
            <destroy-sql sql="CREATE SHARDING TABLE RULE t_user_item (
                RESOURCES(&quot;encrypt_write_ds_${0..9}&quot;),
                SHARDING_COLUMN=user_id, TYPE(NAME=MOD, PROPERTIES(&quot;sharding-count&quot;=40)))))" />
        </assertion>
    </test-case>
    
    <test-case sql="SHOW SHARDING BINDING TABLE RULES">
        <assertion expected-data-file="create_binding_rules.xml">
            <initial-sql sql="CREATE SHARDING TABLE RULE t_user (
                RESOURCES(&quot;encrypt_write_ds_${0..9}&quot;),
                SHARDING_COLUMN=user_id, TYPE(NAME=MOD, PROPERTIES(&quot;sharding-count&quot;=40)))));
                CREATE SHARDING BINDING TABLE RULES ((t_user,t_user_item))"/>
            <destroy-sql sql="DROP SHARDING BINDING TABLE RULES" />
        </assertion>
    </test-case>
    
    <test-case sql="SHOW SHARDING BROADCAST TABLE RULES">
        <assertion expected-data-file="create_broadcast_rules.xml">
            <initial-sql sql="CREATE SHARDING BROADCAST TABLE RULES (t_broadcast_table)"/>
            <destroy-sql sql="DROP SHARDING BROADCAST TABLE RULES" />
        </assertion>
    </test-case>
</integration-test-cases>
